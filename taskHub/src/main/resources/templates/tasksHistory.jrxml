<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="tasksHistory" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="aead8145-72ed-4e89-b421-af0bfd40ce1e">
	<property name="com.jaspersoft.studio.data.sql.tables" value="dGFza2h1Yi50Yl90YXNrX2hpc3RvcnkgQVMgLDE4NSwyNDIsYzg1OGZlNDYtNmZjYy00MWQ2LTlk&#xa;OTMtNWVlMGRjMGFiZTRlOw=="/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MySQL Connection by TaskHub"/>
	<style name="zebraStyle" mode="Opaque" forecolor="#FFFFFF" backcolor="#FFE3E3">
		<conditionalStyle>
			<conditionExpression><![CDATA[$V{REPORT_COUNT} % 2 == 0]]></conditionExpression>
		</conditionalStyle>
	</style>
	<parameter name="PERSON_ID" class="java.lang.String"/>
	<parameter name="SUB_REPORT_DATA_SOURCE" class="java.lang.String"/>
	<query language="SQL"><![CDATA[SELECT 
	th.id,
    title,
    description,
    occurred_at AS occurredAt,
    action
FROM tb_task_history th
JOIN tb_tasks t ON th.task_id = t.id
WHERE t.person_id = 1;]]></query>
	<field name="id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="id"/>
		<property name="com.jaspersoft.studio.field.label" value="id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_task_history"/>
	</field>
	<field name="title" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="title"/>
		<property name="com.jaspersoft.studio.field.label" value="title"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_tasks"/>
	</field>
	<field name="description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="description"/>
		<property name="com.jaspersoft.studio.field.label" value="description"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_tasks"/>
	</field>
	<field name="occurredAt" class="java.time.LocalDateTime">
		<property name="com.jaspersoft.studio.field.name" value="occurred_at"/>
		<property name="com.jaspersoft.studio.field.label" value="occurredAt"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_task_history"/>
	</field>
	<field name="action" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="action"/>
		<property name="com.jaspersoft.studio.field.label" value="action"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tb_task_history"/>
	</field>
	<background splitType="Stretch"/>
	<columnHeader height="61" splitType="Stretch">
		<element kind="staticText" uuid="d73499fe-16dd-4791-ab0f-3b88e1712901" mode="Opaque" x="0" y="30" width="40" height="30" forecolor="#FAFAFA" backcolor="#BF2E26" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Code]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="74c2854d-59bf-44cd-a71c-1d5740d25d1d"/>
		</element>
		<element kind="staticText" uuid="b3d1e2d0-5a5c-4b57-9bb1-5f44f519342e" mode="Opaque" x="40" y="30" width="140" height="30" forecolor="#FAFAFA" backcolor="#BF2E26" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Title]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1b23d2a1-0aa5-4631-bf6f-de25672a6c7e"/>
		</element>
		<element kind="staticText" uuid="f6a65bae-e631-464b-bf1d-20542249f212" mode="Opaque" x="180" y="30" width="200" height="30" forecolor="#FAFAFA" backcolor="#BF2E26" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Description]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e4ba301b-64c9-4412-8674-a7b02f9cfeab"/>
		</element>
		<element kind="staticText" uuid="30834a4b-64d5-4781-85fc-29ebf7c6b655" mode="Opaque" x="380" y="30" width="100" height="30" forecolor="#FAFAFA" backcolor="#BF2E26" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Occurred At]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7b155238-5e2a-406b-8cbb-51ebcb990518"/>
		</element>
		<element kind="staticText" uuid="d3db1146-d58a-4316-add1-01fd09a0dce2" mode="Opaque" x="480" y="30" width="80" height="30" forecolor="#FAFAFA" backcolor="#BF2E26" fontName="Arial" bold="true" hTextAlign="Center" vTextAlign="Middle">
			<text><![CDATA[Action]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7cee5451-ef0b-48c7-aa07-7fd22ccdbc42"/>
		</element>
	</columnHeader>
	<detail>
		<band height="50" splitType="Stretch">
			<element kind="textField" uuid="0527d499-173f-4a4b-a2d7-b4753792ddbe" mode="Opaque" x="0" y="20" width="40" height="30" forecolor="#030303" backcolor="#E0E0E0" fontName="Arial" hTextAlign="Center" vTextAlign="Middle" style="zebraStyle">
				<expression><![CDATA[$F{id}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="74c2854d-59bf-44cd-a71c-1d5740d25d1d"/>
			</element>
			<element kind="textField" uuid="6c5b56fa-a33e-4c19-a551-58f2ae2ac3ac" mode="Opaque" x="40" y="20" width="142" height="30" forecolor="#030303" backcolor="#E0E0E0" fontName="Arial" hTextAlign="Left" vTextAlign="Middle" style="zebraStyle">
				<expression><![CDATA[$F{title}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1b23d2a1-0aa5-4631-bf6f-de25672a6c7e"/>
			</element>
			<element kind="textField" uuid="7f7e43c7-38b2-4df4-9281-102643a87a51" mode="Opaque" x="182" y="20" width="198" height="30" forecolor="#030303" backcolor="#E0E0E0" fontName="Arial" hTextAlign="Left" vTextAlign="Middle" style="zebraStyle">
				<expression><![CDATA[$F{description}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e4ba301b-64c9-4412-8674-a7b02f9cfeab"/>
			</element>
			<element kind="textField" uuid="0a20f311-ba22-4335-9350-a556202f4416" mode="Opaque" x="380" y="20" width="100" height="30" forecolor="#030303" backcolor="#E0E0E0" fontName="Arial" hTextAlign="Center" vTextAlign="Middle" style="zebraStyle">
				<expression><![CDATA[$F{occurredAt}.format(
	java.time.format.DateTimeFormatter.ofPattern("dd-MM-yyyy")
)]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7b155238-5e2a-406b-8cbb-51ebcb990518"/>
			</element>
			<element kind="textField" uuid="f907bd5b-f8b2-4c5d-a90a-ff5ce244d46b" mode="Opaque" x="480" y="20" width="80" height="30" forecolor="#030303" backcolor="#E0E0E0" fontName="Arial" hTextAlign="Center" vTextAlign="Middle" style="zebraStyle">
				<expression><![CDATA[$F{action} == 0 ? "CREATE" :  ($F{action} == 1 ? "UPDATE" : ($F{action} == 2 ? "DELETE" : "COMPLETED"))]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7cee5451-ef0b-48c7-aa07-7fd22ccdbc42"/>
			</element>
		</band>
	</detail>
</jasperReport>
